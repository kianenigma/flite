<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Macro to amalgamate the runtime into `struct Runtime`."><title>frame_construct_runtime in polkadot_sdk_frame::runtime::prelude - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-46f98efaafac5295.ttf.woff2,FiraSans-Regular-018c141bf0843ffd.woff2,FiraSans-Medium-8f9a781e4970d388.woff2,SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2,SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../../static.files/rustdoc-405f8b29f52305f8.css"><meta name="rustdoc-vars" data-root-path="../../../" data-static-root-path="../../../static.files/" data-current-crate="polkadot_sdk_frame" data-themes="" data-resource-suffix="" data-rustdoc-version="1.83.0-nightly (28e8f01c2 2024-09-17)" data-channel="nightly" data-search-js="search-0cfde64e8ad3a7fe.js" data-settings-js="settings-7e3bb6c46e92e77c.js" ><script src="../../../static.files/storage-29b1d5a9048d38fe.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../../static.files/main-14659ec02b58af51.js"></script><noscript><link rel="stylesheet" href="../../../static.files/noscript-40f72c9259523cb3.css"></noscript><link rel="alternate icon" type="image/png" href="../../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc attr"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../../polkadot_sdk_frame/index.html">polkadot_<wbr>sdk_<wbr>frame</a><span class="version">0.1.0</span></h2></div><div class="sidebar-elems"><section id="rustdoc-toc"><h2 class="location"><a href="#">frame_<wbr>construct_<wbr>runtime</a></h2><h3><a href="#">Sections</a></h3><ul class="block top-toc"><li><a href="#example" title="Example:">Example:</a></li><li><a href="#supported-attributes" title="Supported Attributes:">Supported Attributes:</a><ul><li><a href="#legacy-ordering" title="Legacy Ordering">Legacy Ordering</a></li></ul></li><li><a href="#note" title="Note">Note</a></li><li><a href="#type-definitions" title="Type definitions">Type definitions</a></li></ul></section><div id="rustdoc-modnav"><h2><a href="index.html">In polkadot_<wbr>sdk_<wbr>frame::<wbr>runtime::<wbr>prelude</a></h2></div></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><h1>Attribute Macro <a href="../../index.html">polkadot_sdk_frame</a>::<wbr><a href="../index.html">runtime</a>::<wbr><a href="index.html">prelude</a>::<wbr><a class="attr" href="#">frame_construct_runtime</a><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><span class="out-of-band"><a class="src" href="../../../src/frame_support_procedural/lib.rs.html#1264">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><pre class="rust item-decl"><code>#[frame_construct_runtime]</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Macro to amalgamate the runtime into <code>struct Runtime</code>.</p>
<p>This is the newer version of <a href="macro.construct_runtime.html" title="macro polkadot_sdk_frame::runtime::prelude::construct_runtime"><code>construct_runtime</code></a>.
Construct a runtime, with the given name and the given pallets.</p>
<h2 id="example"><a class="doc-anchor" href="#example">§</a>Example:</h2>
<div class="example-wrap ignore"><a href="#" class="tooltip" title="This example is not tested">ⓘ</a><pre class="rust rust-example-rendered"><code><span class="attr">#[<span class="kw">crate</span>::runtime]
</span><span class="kw">mod </span>runtime {
	<span class="comment">// The main runtime
	</span><span class="attr">#[runtime::runtime]
	</span><span class="comment">// Runtime Types to be generated
	</span><span class="attr">#[runtime::derive(
		RuntimeCall,
		RuntimeEvent,
		RuntimeError,
		RuntimeOrigin,
		RuntimeFreezeReason,
		RuntimeHoldReason,
		RuntimeSlashReason,
		RuntimeLockId,
		RuntimeTask
	)]
	</span><span class="kw">pub struct </span>Runtime;

	<span class="comment">// Use the concrete pallet type
	</span><span class="attr">#[runtime::pallet_index(<span class="number">0</span>)]
	</span><span class="kw">pub type </span>System = frame_system::Pallet&lt;Runtime&gt;;

	<span class="comment">// Use path to the pallet
	</span><span class="attr">#[runtime::pallet_index(<span class="number">1</span>)]
	</span><span class="kw">pub type </span>Basic = pallet_basic;

	<span class="comment">// Use the concrete pallet type with instance
	</span><span class="attr">#[runtime::pallet_index(<span class="number">2</span>)]
	</span><span class="kw">pub type </span>PalletWithInstance1 = pallet_with_instance::Pallet&lt;Runtime, Instance1&gt;;

	<span class="comment">// Use path to the pallet with instance
	</span><span class="attr">#[runtime::pallet_index(<span class="number">3</span>)]
	</span><span class="kw">pub type </span>PalletWithInstance2 = pallet_with_instance&lt;Instance2&gt;;

	<span class="comment">// Ensure that the runtime does not export the calls from the pallet
	</span><span class="attr">#[runtime::pallet_index(<span class="number">4</span>)]
	#[runtime::disable_call]
	</span><span class="kw">pub type </span>PalletWithDisabledCall = pallet_with_disabled_call::Pallet&lt;Runtime&gt;;

	<span class="comment">// Ensure that the runtime does not export the unsigned calls from the pallet
	</span><span class="attr">#[runtime::pallet_index(<span class="number">5</span>)]
	#[runtime::disable_unsigned]
	</span><span class="kw">pub type </span>PalletWithDisabledUnsigned = pallet_with_disabled_unsigned::Pallet&lt;Runtime&gt;;
}</code></pre></div>
<h2 id="supported-attributes"><a class="doc-anchor" href="#supported-attributes">§</a>Supported Attributes:</h2><h3 id="legacy-ordering"><a class="doc-anchor" href="#legacy-ordering">§</a>Legacy Ordering</h3>
<p>An optional attribute can be defined as #[frame_support::runtime(legacy_ordering)] to
ensure that the order of hooks is same as the order of pallets (and not based on the
pallet_index). This is to support legacy runtimes and should be avoided for new ones.</p>
<h2 id="note"><a class="doc-anchor" href="#note">§</a>Note</h2>
<p>The population of the genesis storage depends on the order of pallets. So, if one of your
pallets depends on another pallet, the pallet that is depended upon needs to come before
the pallet depending on it.</p>
<h2 id="type-definitions"><a class="doc-anchor" href="#type-definitions">§</a>Type definitions</h2>
<ul>
<li>The macro generates a type alias for each pallet to their <code>Pallet</code>. E.g. <code>type System = frame_system::Pallet&lt;Runtime&gt;</code></li>
</ul>
</div></details></section></div></main></body></html>